{% extends 'library/index.html' %}
{% load static %}
{% load i18n %}

{% block content %}
<h1 data-aos="fade-right" data-aos-duration="2000" class="titreH1">Résultats des recherches</h1>
{% if search_input %}
    <h1 class="titre_resultat">Pour "{{ search_input }}"</h1>
    <div class="container">
        {% for result in books %}
            <div data-aos="fade" data-aos-duration="2000"  class="main">
                <ul id="bk-list" class="bk-list clearfix">
                    <li>
                        <div class="bk-book book-1 bk-bookdefault">
                            <div class="bk-front">
                                <div class="bk-cover-back"></div>
                                <div class="bk-cover" style="background-image: url({{result.picture_book.url}});">
                                    <h2>
                                        <img src="{{ book.picture_book.url }}">
                                        <span>{{ result.author }}</span>
                                        <span>{{ result.name_book }}</span>
                                    </h2>
                                </div>
                            </div>
                            <div class="bk-back">
                                <p>“{{ result.synopsis_book }}”.</p>
                            </div>
                            <div class="bk-right"></div>
                            <div class="bk-left">
                                <h2>
                                    <span>{{ result.author }}</span>
                                    <span>{{ result.name_book }}</span>
                                </h2>
                            </div>
                            <div class="bk-top"></div>
                            <div class="bk-bottom"></div>
                        </div>
                        <div class="bk-info">
                            <h3>
                                <span>{{ result.name_book }}</span>
                                <span><b>{{ result.author }}</b></span>
                            </h3>
                            <p>
                                {% language 'fr' %}
                                <b>Date de publication</b> : {{ result.date_book|date:'d F Y' }}
                                {% endlanguage %}
                            </p>
                            <p><b>Catégorie</b> : {{ result.category }}</p>
                            <p><b>Langue</b> : {{ result.language }}</p>
                            <button class="bk-bookback">Résumé</button>
                            <button><a href="{% url 'library:detail' result.id %}">Détails</a></button>
                        </div>
                    </li>
                </ul> 
            </div> <!-- end main -->
        {% endfor %}


            <!-- RESULT BY FIRSTNAME AUTHOR  -->
                {% for result in books_firstname %}
                    <div data-aos="fade" data-aos-duration="2000"  class="main">
                        <ul id="bk-list" class="bk-list clearfix">
                            <li>
                                <div class="bk-book book-1 bk-bookdefault">
                                    <div class="bk-front">
                                        <div class="bk-cover-back"></div>
                                        <div class="bk-cover" style="background-image: url({{result.picture_book.url}});">
                                            <h2>
                                                <img src="{{ book.picture_book.url }}">
                                                <span>{{ result.author }}</span>
                                                <span>{{ result.name_book }}</span>
                                            </h2>
                                        </div>
                                    </div>
                                    <div class="bk-back">
                                        <p>“{{ result.synopsis_book }}”.</p>
                                    </div>
                                    <div class="bk-right"></div>
                                    <div class="bk-left">
                                        <h2>
                                            <span>{{ result.author }}</span>
                                            <span>{{ result.name_book }}</span>
                                        </h2>
                                    </div>
                                    <div class="bk-top"></div>
                                    <div class="bk-bottom"></div>
                                </div>
                                <div class="bk-info">
                                    <h3>
                                        <span>{{ result.name_book }}</span>
                                        <span><b>{{ result.author }}</b></span>
                                    </h3>
                                    <p>
                                        {% language 'fr' %}
                                        <b>Date de publication</b> : {{ result.date_book|date:'d F Y' }}
                                        {% endlanguage %}
                                    </p>
                                    <p><b>Catégorie</b> : {{ result.category }}</p>
                                    <p><b>Langue</b> : {{ result.language }}</p>
                                    <button class="bk-bookback">Résumé</button>
                                    <button><a href="{% url 'library:detail' result.id %}">Détails</a></button>
                                </div>
                            </li>
                        </ul> 
                    </div> <!-- end main -->
                {% endfor %}


            <!-- RESULT BY DATE -->
            {% for result in books_date %}
                <div data-aos="fade" data-aos-duration="2000"  class="main">
                    <ul id="bk-list" class="bk-list clearfix">
                        <li>
                            <div class="bk-book book-1 bk-bookdefault">
                                <div class="bk-front">
                                    <div class="bk-cover-back"></div>
                                    <div class="bk-cover" style="background-image: url({{result.picture_book.url}});">
                                        <h2>
                                            <img src="{{ book.picture_book.url }}">
                                            <span>{{ result.author }}</span>
                                            <span>{{ result.name_book }}</span>
                                        </h2>
                                    </div>
                                </div>
                                <div class="bk-back">
                                    <p>“{{ result.synopsis_book }}”.</p>
                                </div>
                                <div class="bk-right"></div>
                                <div class="bk-left">
                                    <h2>
                                        <span>{{ result.author }}</span>
                                        <span>{{ result.name_book }}</span>
                                    </h2>
                                </div>
                                <div class="bk-top"></div>
                                <div class="bk-bottom"></div>
                            </div>
                            <div class="bk-info">
                                <h3>
                                    <span>{{ result.name_book }}</span>
                                    <span><b>{{ result.author }}</b></span>
                                </h3>
                                <p>
                                    {% language 'fr' %}
                                    <b>Date de publication</b> : {{ result.date_book|date:'d F Y' }}
                                    {% endlanguage %}
                                </p>
                                <p><b>Catégorie</b> : {{ result.category }}</p>
                                <p><b>Langue</b> : {{ result.language }}</p>
                                <button class="bk-bookback">Résumé</button>
                                <button><a href="{% url 'library:detail' result.id %}">Détails</a></button>
                            </div>
                        </li>
                    </ul> 
                </div> <!-- end main -->
            {% endfor %}


            <!-- RESULT BY AUTHOR -->        
        {% for result in books_author %}
            <div data-aos="fade" data-aos-duration="2000"  class="main">
                <ul id="bk-list" class="bk-list clearfix">
                    <li>
                        <div class="bk-book book-1 bk-bookdefault">
                            <div class="bk-front">
                                <div class="bk-cover-back"></div>
                                <div class="bk-cover" style="background-image: url({{result.picture_book.url}});">
                                    <h2>
                                        <img src="{{ book.picture_book.url }}">
                                        <span>{{ result.author }}</span>
                                        <span>{{ result.name_book }}</span>
                                    </h2>
                                </div>
                            </div>
                            <div class="bk-back">
                                <p>“{{ result.synopsis_book }}”.</p>
                            </div>
                            <div class="bk-right"></div>
                            <div class="bk-left">
                                <h2>
                                    <span>{{ result.author }}</span>
                                    <span>{{ result.name_book }}</span>
                                </h2>
                            </div>
                            <div class="bk-top"></div>
                            <div class="bk-bottom"></div>
                        </div>
                        <div class="bk-info">
                            <h3>
                                <span>{{ result.name_book }}</span>
                                <span><b>{{ result.author }}</b></span>
                            </h3>
                            <p>
                                {% language 'fr' %}
                                <b>Date de publication</b> : {{ result.date_book|date:'d F Y' }}
                                {% endlanguage %}
                            </p>
                            <p><b>Catégorie</b> : {{ result.category }}</p>
                            <p><b>Langue</b> : {{ result.language }}</p>
                            <button class="bk-bookback">Résumé</button>
                            <button><a href="{% url 'library:detail' result.id %}">Détails</a></button>
                        </div>
                    </li>
                </ul> 
            </div> <!-- end main -->
        {% endfor %}


        <!-- RESULT BY LANGUAGE -->
        {% for result in books_language %}
        <div data-aos="fade" data-aos-duration="2000"  class="main">
            <ul id="bk-list" class="bk-list clearfix">
                <li>
                    <div class="bk-book book-1 bk-bookdefault">
                        <div class="bk-front">
                            <div class="bk-cover-back"></div>
                            <div class="bk-cover" style="background-image: url({{result.picture_book.url}});">
                                <h2>
                                    <img src="{{ book.picture_book.url }}">
                                    <span>{{ result.author }}</span>
                                    <span>{{ result.name_book }}</span>
                                </h2>
                            </div>
                        </div>
                        <div class="bk-back">
                            <p>“{{ result.synopsis_book }}”.</p>
                        </div>
                        <div class="bk-right"></div>
                        <div class="bk-left">
                            <h2>
                                <span>{{ result.author }}</span>
                                <span>{{ result.name_book }}</span>
                            </h2>
                        </div>
                        <div class="bk-top"></div>
                        <div class="bk-bottom"></div>
                    </div>
                    <div class="bk-info">
                        <h3>
                            <span>{{ result.name_book }}</span>
                            <span><b>{{ result.author }}</b></span>
                        </h3>
                        <p>
                            {% language 'fr' %}
                            <b>Date de publication</b> : {{ result.date_book|date:'d F Y' }}
                            {% endlanguage %}
                        </p>
                        <p><b>Catégorie</b> : {{ result.category }}</p>
                        <p><b>Langue</b> : {{ result.language }}</p>
                        <button class="bk-bookback">Résumé</button>
                        <button><a href="{% url 'library:detail' result.id %}">Détails</a></button>
                    </div>
                </li>
            </ul> 
        </div> <!-- end main -->
    {% endfor %}


    <!-- RESULT BY CATEGORY -->
    {% for result in books_category %}
    <div data-aos="fade" data-aos-duration="2000"  class="main">
        <ul id="bk-list" class="bk-list clearfix">
            <li>
                <div class="bk-book book-1 bk-bookdefault">
                    <div class="bk-front">
                        <div class="bk-cover-back"></div>
                        <div class="bk-cover" style="background-image: url({{result.picture_book.url}});">
                            <h2>
                                <img src="{{ book.picture_book.url }}">
                                <span>{{ result.author }}</span>
                                <span>{{ result.name_book }}</span>
                            </h2>
                        </div>
                    </div>
                    <div class="bk-back">
                        <p>“{{ result.synopsis_book }}”.</p>
                    </div>
                    <div class="bk-right"></div>
                    <div class="bk-left">
                        <h2>
                            <span>{{ result.author }}</span>
                            <span>{{ result.name_book }}</span>
                        </h2>
                    </div>
                    <div class="bk-top"></div>
                    <div class="bk-bottom"></div>
                </div>
                <div class="bk-info">
                    <h3>
                        <span>{{ result.name_book }}</span>
                        <span><b>{{ result.author }}</b></span>
                    </h3>
                    <p>
                        {% language 'fr' %}
                        <b>Date de publication</b> : {{ result.date_book|date:'d F Y' }}
                        {% endlanguage %}
                    </p>
                    <p><b>Catégorie</b> : {{ result.category }}</p>
                    <p><b>Langue</b> : {{ result.language }}</p>
                    <button class="bk-bookback">Résumé</button>
                    <button><a href="{% url 'library:detail' result.id %}">Détails</a></button>
                </div>
            </li>
        </ul> 
    </div> <!-- end main -->
{% endfor %}

    </div> <!-- end container -->
{% else %}
    <h1 class="titre_resultat">Le champ de recherche est vide !</h1>    
{% endif %}
</div> <!-- end container -->

{% endblock %}